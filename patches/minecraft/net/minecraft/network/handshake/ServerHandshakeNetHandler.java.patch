--- a/net/minecraft/network/handshake/ServerHandshakeNetHandler.java
+++ b/net/minecraft/network/handshake/ServerHandshakeNetHandler.java
@@ -1,5 +1,6 @@
 package net.minecraft.network.handshake;
 
+import fr.modcraftmc.modcraftforge.theading.ModcraftThreadFactory;
 import net.minecraft.network.NetworkManager;
 import net.minecraft.network.ProtocolType;
 import net.minecraft.network.handshake.client.CHandshakePacket;
@@ -21,28 +22,30 @@
    }
 
    public void func_147383_a(CHandshakePacket p_147383_1_) {
-      switch(p_147383_1_.func_149594_c()) {
-      case LOGIN:
-         this.field_147386_b.func_150723_a(ProtocolType.LOGIN);
-         if (p_147383_1_.func_149595_d() > SharedConstants.func_215069_a().getProtocolVersion()) {
-            ITextComponent itextcomponent = new TranslationTextComponent("multiplayer.disconnect.outdated_server", SharedConstants.func_215069_a().getName());
-            this.field_147386_b.func_179290_a(new SDisconnectLoginPacket(itextcomponent));
-            this.field_147386_b.func_150718_a(itextcomponent);
-         } else if (p_147383_1_.func_149595_d() < SharedConstants.func_215069_a().getProtocolVersion()) {
-            ITextComponent itextcomponent1 = new TranslationTextComponent("multiplayer.disconnect.outdated_client", SharedConstants.func_215069_a().getName());
-            this.field_147386_b.func_179290_a(new SDisconnectLoginPacket(itextcomponent1));
-            this.field_147386_b.func_150718_a(itextcomponent1);
-         } else {
-            this.field_147386_b.func_150719_a(new ServerLoginNetHandler(this.field_147387_a, this.field_147386_b));
+         if (!net.minecraftforge.fml.server.ServerLifecycleHooks.handleServerLogin(p_147383_1_, this.field_147386_b))
+            return;
+         switch (p_147383_1_.func_149594_c()) {
+            case LOGIN:
+               this.field_147386_b.func_150723_a(ProtocolType.LOGIN);
+               if (p_147383_1_.func_149595_d() > SharedConstants.func_215069_a().getProtocolVersion()) {
+                  ITextComponent itextcomponent = new TranslationTextComponent("multiplayer.disconnect.outdated_server", SharedConstants.func_215069_a().getName());
+                  this.field_147386_b.func_179290_a(new SDisconnectLoginPacket(itextcomponent));
+                  this.field_147386_b.func_150718_a(itextcomponent);
+               } else if (p_147383_1_.func_149595_d() < SharedConstants.func_215069_a().getProtocolVersion()) {
+                  ITextComponent itextcomponent1 = new TranslationTextComponent("multiplayer.disconnect.outdated_client", SharedConstants.func_215069_a().getName());
+                  this.field_147386_b.func_179290_a(new SDisconnectLoginPacket(itextcomponent1));
+                  this.field_147386_b.func_150718_a(itextcomponent1);
+               } else {
+                  this.field_147386_b.func_150719_a(new ServerLoginNetHandler(this.field_147387_a, this.field_147386_b));
+               }
+               break;
+            case STATUS:
+               this.field_147386_b.func_150723_a(ProtocolType.STATUS);
+               this.field_147386_b.func_150719_a(new ServerStatusNetHandler(this.field_147387_a, this.field_147386_b));
+               break;
+            default:
+               throw new UnsupportedOperationException("Invalid intention " + p_147383_1_.func_149594_c());
          }
-         break;
-      case STATUS:
-         this.field_147386_b.func_150723_a(ProtocolType.STATUS);
-         this.field_147386_b.func_150719_a(new ServerStatusNetHandler(this.field_147387_a, this.field_147386_b));
-         break;
-      default:
-         throw new UnsupportedOperationException("Invalid intention " + p_147383_1_.func_149594_c());
-      }
 
    }
 
