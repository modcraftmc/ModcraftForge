--- a/net/minecraft/client/gui/ResourceLoadProgressGui.java
+++ b/net/minecraft/client/gui/ResourceLoadProgressGui.java
@@ -31,6 +31,7 @@
    private long field_212980_h = -1L;
 
    public ResourceLoadProgressGui(Minecraft p_i225928_1_, IAsyncReloader p_i225928_2_, Consumer<Optional<Throwable>> p_i225928_3_, boolean p_i225928_4_) {
+
       this.field_212974_b = p_i225928_1_;
       this.field_212975_c = p_i225928_2_;
       this.field_212976_d = p_i225928_3_;
@@ -42,6 +43,7 @@
    }
 
    public void render(int p_render_1_, int p_render_2_, float p_render_3_) {
+
       int i = this.field_212974_b.func_228018_at_().func_198107_o();
       int j = this.field_212974_b.func_228018_at_().func_198087_p();
       long k = Util.func_211177_b();
@@ -49,6 +51,7 @@
          this.field_212980_h = k;
       }
 
+
       float f = this.field_212979_g > -1L ? (float)(k - this.field_212979_g) / 1000.0F : -1.0F;
       float f1 = this.field_212980_h > -1L ? (float)(k - this.field_212980_h) / 500.0F : -1.0F;
       float f2;
@@ -67,6 +70,7 @@
 
          int j1 = MathHelper.func_76143_f(MathHelper.func_151237_a((double)f1, 0.15D, 1.0D) * 255.0D);
          fill(0, 0, i, j, 16777215 | j1 << 24);
+
          f2 = MathHelper.func_76131_a(f1, 0.0F, 1.0F);
       } else {
          fill(0, 0, i, j, -1);
@@ -81,7 +85,9 @@
       this.blit(k1, i1, 0, 0, 256, 256);
       float f3 = this.field_212975_c.func_219555_b();
       this.field_212978_f = MathHelper.func_76131_a(this.field_212978_f * 0.95F + f3 * 0.050000012F, 0.0F, 1.0F);
+      net.minecraftforge.fml.client.ClientModLoader.renderProgressText();
       if (f < 1.0F) {
+
          this.func_228181_a_(i / 2 - 150, j / 4 * 3, i / 2 + 150, j / 4 * 3 + 10, 1.0F - MathHelper.func_76131_a(f, 0.0F, 1.0F));
       }
 
@@ -90,6 +96,7 @@
       }
 
       if (this.field_212979_g == -1L && this.field_212975_c.func_219554_d() && (!this.field_212977_e || f1 >= 2.0F)) {
+         this.field_212979_g = Util.func_211177_b(); // Moved up to guard against inf loops caused by callback
          try {
             this.field_212975_c.func_219556_e();
             this.field_212976_d.accept(Optional.empty());
@@ -97,7 +104,6 @@
             this.field_212976_d.accept(Optional.of(throwable));
          }
 
-         this.field_212979_g = Util.func_211177_b();
          if (this.field_212974_b.field_71462_r != null) {
             this.field_212974_b.field_71462_r.init(this.field_212974_b, this.field_212974_b.func_228018_at_().func_198107_o(), this.field_212974_b.func_228018_at_().func_198087_p());
          }
@@ -105,11 +111,30 @@
 
    }
 
+   public static int parseColor(String s) throws NumberFormatException {
+      // Format #rgb
+      if (s.length() == 3) {
+         int color = Integer.parseInt(s, 16);
+         // Transformation #rgb -> #rrggbb
+         return (((color & 0xf00) << 8) + ((color & 0x0f0) << 4) + (color & 0x00f)) * 0x11;
+      }
+
+      // Format #rrggbb
+      if (s.length() == 6) {
+         return Integer.parseInt(s, 16);
+      }
+
+      // Autres formats -> erreur
+      throw new NumberFormatException("Couldn't parse color '" + s + "'");
+   }
+
    private void func_228181_a_(int p_228181_1_, int p_228181_2_, int p_228181_3_, int p_228181_4_, float p_228181_5_) {
-      int i = MathHelper.func_76123_f((float)(p_228181_3_ - p_228181_1_ - 1) * this.field_212978_f);
+      int i = MathHelper.func_76123_f((float) (p_228181_3_ - p_228181_1_ - 1) * this.field_212978_f);
+
       fill(p_228181_1_ - 1, p_228181_2_ - 1, p_228181_3_ + 1, p_228181_4_ + 1, -16777216 | Math.round((1.0F - p_228181_5_) * 255.0F) << 16 | Math.round((1.0F - p_228181_5_) * 255.0F) << 8 | Math.round((1.0F - p_228181_5_) * 255.0F));
       fill(p_228181_1_, p_228181_2_, p_228181_3_, p_228181_4_, -1);
       fill(p_228181_1_ + 1, p_228181_2_ + 1, p_228181_1_ + i, p_228181_4_ - 1, -16777216 | (int)MathHelper.func_219799_g(1.0F - p_228181_5_, 226.0F, 255.0F) << 16 | (int)MathHelper.func_219799_g(1.0F - p_228181_5_, 40.0F, 255.0F) << 8 | (int)MathHelper.func_219799_g(1.0F - p_228181_5_, 55.0F, 255.0F));
+
    }
 
    public boolean func_212969_a() {
